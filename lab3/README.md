# Язык Java (Магистратура, 1 курс)

## Лабораторная работа № 3 (6 баллов)

Данная работа посвящена основам объектно-ориентированного программирования (ООП) на Java.

### Задание

Некая фирма XYZ разрабатывает новый ультрасовременный веб-браузер, который должен в будущем вытеснить с рынка всех конкурентов.
Для работы над браузером фирма XYZ выбрала язык Java. Фирма XYZ планирует революционные изменения в адресной строке браузера. Существующий на сегодняшний день стандарт для [URL](https://ru.wikipedia.org/wiki/URL) фирма XYZ находит устаревшим и не соответствующим требованиям современных пользователей интернета. Представьте себе, что фирма XYZ ищет нового программиста и пригласила Вас на собеседование. Во время собеседования фирма XYZ рассказала Вам о своих планах по изменению URL и предложила Вам в качестве тестового задания написать свою собственную реализацию их идей. 

URL-строки должны состоять из следующих частей:
   * протокол (в настоящий момент поддерживаются только протоколы ```http``` и ```https```)
   * имя хоста, например: ```localhost```, ```kantiana.ru```, ```maps.google.com``` и т.д. (в настоящее время поддерживаются только строчные латинские буквы ```a...z```, цифры ```0...9``` и разделитель ```.```)
   * **(необязательный)** путь к ресурсу, например: ```/```, ```/search/images/```; здесь для разделения фрагментов пути используется символ ```/```, а для фрагментов пути разрешается использовать только строчные латинские буквы и цифры и символ ```_```
   * **(необязательная)** строка с параметрами поиска, например: ```?location=kaliningrad&date=today```:
      * строка с параметрами поиска начинается с символа ```?```
      * каждый из параметров поиска имеет вид ```<имя>=<значение>```, где имя и значение состоят только из строчных латинских букв и цифр
      * параметры поиска соединяются с помощью разделителя ```&```  
   
   Фирма XYZ собирается демонстрировать свой проект на следующих примерах:
   * ```https://maps.google.com```
   * ```http://special.kantiana.ru/ipmit```
   * ```https://github.com/search?q=java&type=code```

Компания XYZ дала Вам следующие задания:

1. **(1 балл)** Фирма XYZ разработала интерфейс для работы с фрагментами URL:
   ```java
    interface UrlFragments {
        String getProtocol();
        String[] getHostFragments();
        String[] getPathFragments();
        String[] getQueryParamValues(String queryParamName);
    }
   ```
   Вам необходимо создать класс, реализующий данный интерфейс.
2. **(1 балл)** Фирма XYZ хочет дать возможность пользователю самостоятельно конфигурировать разделители в URL, которые будут использоваться в адресной строке. Например, вместо стандартных разделителей ```/:.?&=``` пользователь может использовать ```\;*!$+``` соответственно. В таком случае, например, URL ```https://github.com/search?q=java&type=code``` будет выглядить следующим образом: ```https;\\github*com\search!q+java$type+code```. Создайте класс ```UrlConig```, который будет хранить информацию о выбранных пользователем разделителях.
3. **(2 балла)** Вашей следующей задачей будет реализовать интерфейс конвертации URL-строк в объект с URL-фрагментами и обратно:
   ```java
   interface UrlConverter {
      UrlFragments parseUrl(String url);
      String toString(UrlFragments fragments);
   }
   ```
   Ваша реализация должна использовать настройки пользователя, содержащиеся в объекте класса ```UrlConfig```. Для простоты реализации возвращайте ```null```, если URL-строка имеет некорректный формат.
4. **(2 балла)** Для VIP-пользователей с платной подпиской компания XYZ хочет предоставить дополнительные возможности для работы с URL:
   * VIP-пользователь должен иметь возможность помимо ```GET```-запросов выполнять также ```POST```-запросы в адресной строке браузера.
   * Для ```POST```-запросов HTTP-метод ```POST``` будет указываться вначале URL-строки в круглых скобках, например:
     ```(POST)https://maps.google.com```.
   * Для работы с расширенными URL-строками был разработан следующий интерфейс:  
   
     ```java
     interface ExtendedUrlFragments extends UrlFragments {
         String getHTTPMethod();
     }
     ```
     Вам необходимо создать новый класс, реализующий данный интерфейс.
   * Расширьте функциональность Вашей реализации класса ```UrlConverter```, чтобы она корректно работала с расширенными URL-строками.